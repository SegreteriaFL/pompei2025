<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <title>Racconti di pellegrinaggi prima di noi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Esperienze, cammini e testimonianze dei pellegrinaggi nelle pagine di Ombre e Luci">

  <!-- stessi include delle altre pagine -->
  <link rel="preload" href="assets/css/main.css" as="style">
  <link rel="stylesheet" href="assets/css/main.css">

  <!-- stile specifico di questa pagina -->
  <link rel="preload" href="assets/css/pellegrinaggi.css" as="style">
  <link rel="stylesheet" href="assets/css/pellegrinaggi.css">

  <!-- opzionale: marca il body ready appena possibile (favorisce [data-fade]) -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.body.classList.add('is-ready');
    }, { once: true });
  </script>
</head>
<body>
  <div class="scroll-progress" aria-hidden="true"></div>
  <a class="skip-link" href="#contenuto">salta al contenuto</a>

  <!-- header/logo/nav iniettati come nelle altre pagine -->
  <div id="siteHeader"></div>

  <!-- MAIN -->
  <main id="articoli-pellegrinaggi" class="container page-wrapper">
    <section class="hero" aria-label="pellegrinaggi" data-fade>
      <h1>Racconti di pellegrinaggi... prima di noi</h1>
      <p class="lead">Esperienze, cammini e testimonianze dalle pagine di <em>Ombre e Luci</em></p>
    </section>

    <section class="cerca-filtra" aria-label="filtra e cerca articoli" data-fade>
      <form id="filtriPellegrinaggi" class="toolbar" role="search" aria-label="cerca e filtra">
        <div class="field">
          <label for="filter" class="sr-only">Filtra per pellegrinaggio</label>
          <select id="filter" class="input input--select" aria-label="Filtra per pellegrinaggio">
            <option value="tutti">Tutti i pellegrinaggi</option>
          </select>
        </div>

        <div class="field field--grow">
          <label for="q" class="sr-only">Cerca</label>
          <input id="q" class="input input--search" type="search" placeholder="cerca per titolo o testo…" autocomplete="off" />
        </div>

        <div class="field buttons">
          <button class="btn" id="sort-new" type="button" aria-pressed="true">Dal più recente</button>
          <button class="btn btn--ghost" id="sort-old" type="button" aria-pressed="false">Dal più antico</button>
        </div>

        <p class="count" id="count" aria-live="polite">—</p>
      </form>
    </section>

    <section id="contenuto" class="risultati" aria-label="elenco articoli" data-fade>
      <div id="list" class="grid" role="list"></div>
    </section>

    <section class="timeline-wrap" aria-label="timeline pellegrinaggi" data-fade>
      <h2 class="section-title">Timeline pellegrinaggi</h2>
      <div id="timeline" class="timeline" aria-label="Timeline dei pellegrinaggi"></div>
    </section>

    <p class="credits" data-fade><small>Fonte: <a href="https://www.ombreeluci.it">ombreeluci.it</a> · Raccolta tematica a cura di Fede e Luce – Pompei 2025</small></p>
  </main>

  <!-- footer -->
  <div id="footer-root"></div>

  <!-- JS di sito (come le altre pagine) -->
  <script src="assets/js/header.inc.js" defer></script>
  <script src="assets/js/includeFooter.js" defer></script>
  <script src="assets/js/casefix.js" defer></script>
  <script src="assets/js/main.js" defer></script>

  <!-- JS della pagina (già nel repo) -->
  <script type="module" src="assets/js/renderPellegrinaggi.js"></script>

  <!-- Sblocca il body (pagina intera) per il fade globale -->
  <script>
    // usa rAF per garantire un paint prima della transizione
    requestAnimationFrame(() => document.documentElement.classList.add('is-loaded'));
  </script>

  <!-- (Facoltativo ma consigliato) se renderPellegrinaggi.js popola #list in modo asincrono,
       puoi forzare il fade sugli elementi inseriti chiamando, quando hai finito il render:
       window.fadeInChildren?.(document.getElementById('list'));
       La utility è definita in main.js nella nostra codebase. -->
</body>
</html>
